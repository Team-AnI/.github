# Clean Code Guide (A&I)

이 문서는 “정답”을 강요하기보다, **협업에서 일관성을 만들기 위한 가이드**입니다.  
트랙/프로젝트 성격에 따라 세부 룰은 달라질 수 있습니다.

---

## 0) 핵심 원칙

- **Readability First**: 3개월 뒤의 나/동료가 바로 이해할 수 있어야 한다.
- **Single Responsibility**: 함수/클래스는 한 가지 책임만 가진다.
- **Small PR / Small Change**: 작게 바꾸면 리뷰/테스트/롤백이 쉽다.
- **Fail Loudly**: 에러를 조용히 삼키지 않는다(로그/처리/사용자 피드백).

---

## 1) Naming (이름이 설계다)

### ✅ Do
- 의도가 드러나는 이름 사용  
  - `data` ❌ → `userProfile` ✅  
  - `doIt()` ❌ → `fetchUser()` ✅
- Boolean은 `is/has/can/should`로 시작  
  - `isLoading`, `hasPermission`

### ❌ Avoid
- 축약 남발 (`tmp`, `usr`, `mgr`)
- 의미 없는 범용 단어 (`info`, `value`, `something`)

---

## 2) Functions (짧고 명확하게)

- 함수는 **한 가지 일만** 한다.
- 매개변수는 가능하면 적게(보통 3개 이하 권장).
- 조건문이 길어지면:
  - early return 적용
  - 함수 추출
  - guard clause로 가독성 개선

---

## 3) Error Handling (실패를 설계하기)

- 네트워크/IO/DB는 항상 실패할 수 있다.
- 예외 처리 시 아래를 명확히:
  - 사용자에게 보여줄 메시지/상태
  - 로그/모니터링 포인트
  - 재시도 정책(가능하면)

---

## 4) Structure (경계와 의존성)

### 공통 권장
- UI / Domain / Data(Infra) 경계를 의식한다.
- 외부 의존성(API, DB, SDK)은 한 레이어로 모아둔다.
- “전역 상태”는 강력하지만 부작용도 크다 → 사용 이유를 문서화한다.

---

## 5) Duplication & Complexity

- 중복은 비용이다(DRY) — 단, **성급한 추상화**는 피한다.
- 복잡도가 올라가면:
  - 역할별로 파일 분리
  - 로직을 작은 단위로 분해
  - 테스트 가능한 구조로 변경

---

## 6) Testing (안전벨트)

- 테스트는 **행동(behavior)**을 보장한다.
- 테스트가 어렵다면 구조 개선의 신호일 수 있다(의존성 분리/순수 함수화 등).
- 최소한 아래는 지키자:
  - 핵심 비즈니스 로직 테스트
  - 주요 API/흐름에 대한 검증 방법 문서화

---

## 7) Review Checklist (리뷰할 때 보는 것)

- [ ] 네이밍이 의도를 드러내는가?
- [ ] 엣지 케이스/에러 처리가 있는가?
- [ ] 변경 범위가 과도하게 크지 않은가?
- [ ] 테스트 또는 검증 방법이 설명되어 있는가?
- [ ] 불필요한 복잡도를 추가하지 않았는가?

---

## 8) 개선은 PR로

이 문서는 고정 규칙이 아니라 **팀의 합의**입니다.  
더 나은 기준이 생기면 PR로 개선합니다.
