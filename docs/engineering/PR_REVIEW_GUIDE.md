# PR & Code Review Guide (A&I)

이 문서는 A&I에서 PR과 코드리뷰를 **일관된 방식으로 운영**하기 위한 가이드입니다.  
사람이 아니라 **코드와 시스템**을 개선하는 방향을 지향합니다.

---

## 1) 기본 원칙

- PR은 **작게**: 한 PR에 한 목적(기능 1개 / 버그 1개 / 문서 1개)
- 리뷰는 **빠르게**: 피드백 루프가 짧을수록 성장 속도가 빨라집니다
- 리뷰는 **존중 있게**: 사람을 평가하지 않고, 코드의 품질을 함께 끌어올립니다

---

## 2) 브랜치/머지 기본 규칙 (권장)

- `main`: 항상 배포/공유 가능한 상태(또는 안정 상태)
- `develop`: 통합 개발 브랜치(운영 방식에 따라 생략 가능)
- `feature/<topic>`: 기능 개발
- `fix/<bug>`: 버그 수정
- `docs/<topic>`: 문서 작업
- `refactor/<topic>`: 리팩토링

> 프로젝트 성격에 따라 trunk-based(바로 main)로 운영해도 됩니다.

---

## 3) 리뷰 코멘트 톤 가이드 (권장)

- `nit:` 사소한 개선(선택)
- `suggestion:` 제안
- `question:` 의도 확인 질문
- `blocking:` 머지 전 반드시 수정 필요

예시
- `question:` 이 로직을 이렇게 나눈 이유가 있을까요?
- `suggestion:` 이 함수는 이름을 조금 더 구체적으로 바꾸면 읽기 쉬울 것 같아요.
- `blocking:` 예외 처리/엣지 케이스가 빠져서 런타임 오류가 날 수 있어요.

---

## 4) 머지 조건(권장)

- [ ] PR 목적이 명확하다
- [ ] 빌드/실행/테스트가 통과한다(가능하면 CI)
- [ ] 에러/엣지 케이스에 대한 고려가 있다
- [ ] 최소 1명 리뷰(프로젝트 규모에 따라 2명)
- [ ] 문서/README/환경 설정 변경 시 안내가 포함되어 있다

---

## 5) PR 리뷰 체크리스트 (Reviewer)

- [ ] 변경 범위가 적절한가? (너무 크면 쪼개기 제안)
- [ ] 네이밍이 의도를 드러내는가?
- [ ] 복잡도가 불필요하게 올라가지는 않았는가?
- [ ] 에러 처리/로그/예외 흐름이 안전한가?
- [ ] “어떻게 확인했는지”가 PR에 적혀 있는가?

---

## 6) 갈등이 생겼을 때 (합의 우선순위)

1. 버그/안전/보안 이슈 (최우선)
2. 성능/확장성/유지보수성
3. 팀 룰(문서/컨벤션)
4. 취향(마지막) — 팀 합의가 있으면 룰로 반영

---

## 7) 라벨/템플릿 (선택)

라벨 예시
- `type: feature`, `type: bug`, `type: refactor`, `type: docs`
- `status: wip`, `status: ready for review`

템플릿이 필요하면 `PULL_REQUEST_TEMPLATE.md`를 추가해 자동화할 수 있습니다.
